<div class="btls">
    <!-- Master -->
    <ul class="btls-list" ng-class="{'split' : selection}">
        <li class="animate" ng-repeat="bottle in bottles | filter:query">
            <div class="btl-ctr">
                <span class="btl" ng-include="'images/bottle.svg'" ng-class="{
                             'bdx'   : bottle.color == 'RED',
                             'white' : bottle.color == 'WHITE',
                             'rose'  : bottle.color == 'ROSE'}"></span>

                <img alt="Vinio" ng-src="../images/{{ bottle.picture }}.jpg">
            </div>

            <div class="dtl">
                <a ng-click="detail(bottle)">
                    <h3>{{ bottle.domain }}</h3>
                </a>

                <span class="vintage"
                      ng-class="{'early' : bottle.vintage >= '2008',
                                 'good'  : bottle.vintage >= '2005' && bottle.vintage < '2008',
                                 'late'  : bottle.vintage < '2005'}">
                    {{ bottle.vintage }}
                </span>

                <p>{{ bottle.description }}</p>
            </div>

            <span class='price'>{{ bottle.price | currency }}</span>
        </li>
    </ul>

    <!-- Detail -->
    <form role="form" class="dtl-edit" ng-if="selection">
        <div class="flr">
            <label for="domainName">Domain name</label>
            <input type="text" id="domainName" placeholder="Domain name" ng-model="selection.domain">
        </div>

        <div class="flr">
            <label for="bottleVintage">Vintage</label>
            <input type="number" id="bottleVintage" placeholder="Vintage" ng-model="selection.vintage">
        </div>

        <div class="flr select">
            <label for="bottleColor">Color</label>
            <select type="text" id="bottleColor" ng-model="selection.color" ng-options="color for color in colors"></select>
        </div>

        <div class="flr">
            <label for="bottleDescription">Description</label>
            <textarea id="bottleDescription" ng-model="selection.description"></textarea>
        </div>

        <div class="flr">
            <label for="bottlePrice">Price</label>

            <div class="append">{{ '' | currency }}</div>

            <input type="number" class="append" id="bottlePrice" placeholder="Price" ng-model="selection.price">
        </div>

        <div class="flr">
            <label for="bottleDescription">Picture</label>

            <div class="append">.jpg</div>

            <input class="append" ng-model="currentPicture" ng-blur="selection.picture = currentPicture">
        </div>

        <img ng-src="../images/{{ selection.picture }}.jpg" alt="picture">

        <button ng-click="closeDetail()">Close</button>
        <button ng-click="edit(selection)">Edit</button>
    </form>
</div>